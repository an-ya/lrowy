<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lrowy.dao.CaptchaDao">
    <resultMap id="captcha" type="com.lrowy.pojo.captcha.Captcha">
        <id column="captchaId" property="captchaId"/>
        <result column="sendId" property="sendId"/>
        <result column="sendMode" property="sendMode"/>
        <result column="ip" property="ip"/>
        <result column="code" property="code"/>
        <result column="createDate" property="createDate"/>
    </resultMap>

    <insert id="saveCaptcha" parameterType="com.lrowy.pojo.captcha.Captcha">
        <selectKey keyProperty="captchaId" order="AFTER" resultType="java.lang.Integer">
            SELECT LAST_INSERT_ID()
        </selectKey>
        INSERT INTO captcha (sendId,sendMode,ip,code,createDate) VALUE (#{sendId},#{sendMode},#{ip},#{code},#{createDate});
    </insert>

    <select id="findCaptcha" resultMap="captcha">
        SELECT * FROM captcha WHERE captchaId=#{captchaId};
    </select>

    <select id="findCaptchaById" resultMap="captcha">
        SELECT * FROM captcha WHERE captchaId=#{captchaId};
    </select>
</mapper>